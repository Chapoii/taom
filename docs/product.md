# 音乐之禅 - 产品需求文档

## 1. 产品概述

**产品名称**：音乐之禅
**产品定位**：一个简洁优雅的音乐播放器，提供沉浸式音乐体验
**核心价值**：让用户专注于音乐欣赏，通过随机主题色营造不同的音乐氛围

## 2. 功能需求

### 2.1 音频文件上传
- 支持用户上传本地音频文件
- 支持常见音频格式（MP3, WAV, OGG等）
- 上传后自动显示文件名作为曲目名称

### 2.2 音乐播放控制
- 播放/暂停功能
- 进度条显示当前播放位置
- 可点击进度条跳转到指定位置
- 当前播放时间和总时长显示
- 自动循环播放功能
- 音乐重置功能（可重新开始播放）
- 全屏播放模式支持
- 键盘快捷键支持（P键播放/暂停，R键重置，F键全屏）

### 2.3 随机主题色系统
- 每次加载页面时生成随机主题色
- 主题色应用于背景渐变、按钮、进度条等元素
- 艺术字颜色随主题色变化
- 确保颜色对比度符合可读性要求

### 2.4 自动播放机制
- 利用用户交互事件（文件上传）尝试自动播放
- 使用Promise和事件监听器确保音频加载完成后再播放
- 添加超时处理，避免音频加载异常
- 优雅处理浏览器自动播放策略限制

### 2.5 20251030-旋转唱片显示
- 在音乐播放页面的模态框上方新增旋转的圆形唱片动画
- 唱片旋转效果类似网易云音乐播放器
- 唱片旋转应与音乐播放状态同步（播放时旋转，暂停时停止）
- 唱片设计应与当前主题色协调

### 2.6 20251031-唱片视觉增强效果
- 唱片颜色使用主题色的渐变效果，替代当前的纯黑色
- 添加唱片"震动"效果，实现放大缩小的脉动动画
- 在唱片最外圈添加圆环释放效果，类似网易云孤独星球的粒子特效
- 所有视觉效果应与音乐播放状态同步

### 2.7 20251101-背景点击粒子特效
- 当用户点击背景时，在点击位置触发粒子特效
- 粒子颜色需与当前主题色协调
- 特效需包含粒子扩散、运动和消失的完整生命周期
- 考虑评估pixi.js在复杂粒子效果实现上的优势与适用性

## 3. 用户界面需求

### 3.1 初始界面
- 显示"音乐之禅"艺术字标题
- 中央显示上传按钮，引导用户上传音频文件
- 背景使用主题色渐变

### 3.2 播放器界面
- 简洁的卡片式设计
- 显示曲目名称
- 显示音乐播放进度条
- 显示时间信息
- 三按钮控制界面：重置按钮（左侧）、播放/暂停按钮（中央）、全屏按钮（右侧）
- 按钮悬停提示显示对应键盘快捷键
- 半透明背景增强视觉效果
- 全屏按钮根据当前状态动态切换图标

### 3.3 响应式设计
- 适配桌面和移动设备
- 在不同屏幕尺寸上保持良好的用户体验

## 4. 技术需求

### 4.1 前端技术栈
- Vue.js 3 框架
- Vite 构建工具
- Tailwind CSS 样式框架
- Font Awesome 图标库

### 4.2 构建与部署
- 使用 GitHub Actions 自动构建和部署
- 部署到 GitHub Pages
- 支持静态文件托管

### 4.3 浏览器兼容性
- 兼容主流现代浏览器（Chrome, Firefox, Safari, Edge）
- 适配不同操作系统

## 5. 非功能性需求

### 5.1 性能要求
- 页面加载速度快
- 音频处理流畅
- 内存占用合理，避免资源泄漏

### 5.2 用户体验
- 操作直观简单
- 视觉效果美观协调
- 错误提示友好

## 6. 验收标准

### 6.1 功能验收
- 成功上传并播放音频文件
- 正确显示播放进度和时间
- 随机主题色系统正常工作
- 自动播放机制在不同浏览器中表现合理
- 重置按钮能够重新开始音乐播放
- 全屏按钮能正确切换全屏模式
- 键盘快捷键功能正常工作
- 所有按钮图标状态正确更新

### 6.2 界面验收
- 界面元素布局合理
- 主题色搭配协调美观
- 响应式设计适配不同屏幕

### 6.3 技术验收
- 代码符合最佳实践
- 构建和部署流程正常
- 无明显性能问题

## 7. 项目范围限定

- 仅支持本地文件播放，不涉及在线音乐库
- 不包含高级音频处理功能（均衡器、音效等）
- 专注于简洁的用户体验，不添加复杂功能